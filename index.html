<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Osce</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,800" rel="stylesheet"> 
  <!-- <link rel="stylesheet" href="style.css"> -->
</head>
<body>
  <div class="container" id="atlo">
    <style>
      @import url('https://fonts.googleapis.com/css?family=Open+Sans');
      #atlo *,#atlo *:after,#atlo *:before{box-sizing:border-box}#atlo ol,#atlo ul{list-style:none}#atlo blockquote,#atlo q{quotes:none}#atlo blockquote:after,#atlo blockquote:before,#atlo q:after,#atlo q:before{content:'';content:none}#atlo table{border-collapse:collapse;border-spacing:0}#atlo{font-family:'Open Sans', sans-serif;line-height:1.2}#atlo ul{margin:0;list-style:none;padding:0}#atlo button{background:none;border:0;border-radius:0;cursor:pointer}#atlo p{margin:0}#atlo.container{max-width:1000px;width:100%;margin:50px auto}#atlo .inline{display:flex;flex-wrap:wrap}#atlo .hero{min-height:120px;padding-bottom:5px}#atlo .hero h1{margin-bottom:15px;font-size:42px}#atlo .description{font-size:18px}#atlo .info-graph-container{position:relative;width:100%;height:560px}#atlo .background,#atlo .background-image,#atlo .rectangle,#atlo .rectangle li,#atlo .text{position:absolute}#atlo .background,#atlo .background-image,#atlo .rectangle,#atlo .text{width:100%;height:100%}#atlo .rectangle li{width:0;height:100%}#atlo .rectangle,#atlo .rectangle li,#atlo .text li{transition:all ease-in-out 0.8s}#atlo .background{z-index:4;background:url('images/bg.png') no-repeat}#atlo .background-image{position:absolute;z-index:5;width:100%;height:100%;opacity:1;transition:all ease-in-out 0.8s}#atlo .background-image .front{overflow:1px}#atlo .rectangle{z-index:1}#atlo .rectangle.base{z-index:2;width:100%;background:#e6e6e6}#atlo .rectangle.active{z-index:3}#atlo .text{z-index:5;left:0;font-family:'Open Sans';font-size:60px;font-weight:bold}#atlo .text li{position:absolute;top:5%;left:0;margin-bottom:50px;margin-left:10px;padding:5px}#atlo .pagination button{height:40px;width:40px;margin-top:20px;margin-right:15px;background:#e6e9ea;border:0;color:#b3b3b3;font-size:21px;padding:0;transition:all 0.3s}#atlo .pagination button.active{background:#666666;color:#f2f2f2}#atlo .pagination button svg{transition:all 0.3s}#atlo.tablet .hero h1{font-size:36px}#atlo.tablet .description{font-size:16px}#atlo.tablet .text{font-size:40px}#atlo.mobile .hero{min-height:120px}#atlo.mobile .hero h1{font-size:24px}#atlo .description{font-size:13px}#atlo.mobile .text{font-size:24px}#atlo.mobile .text li{margin-left:0}
    </style> 
    <div class="hero">
      <h1>Well-being and safety of women</h1>
      <p>OSCE-LED survey on violence against women - major findings</p>
    </div>
    <div class="info-graph-container">
      <div class="rectangle base"></div>
      <ul class="rectangle active">
        <li></li>
        <li></li>
        <li></li>
      </ul>
      <div class="background"></div>
      <img class="background-image" src="images/1.png" />
      <ul class="text">
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </div>
    <ul class="inline pagination">
      <button type="button" value="1" class="active">1</button>
      <button type="button" value="2">2</button>
      <button type="button" value="3">3</button>
      <button type="button" value="4">4</button>
      <button type="button" value="5">5</button>
      <button type="button" value="6">6</button>
      <button type="button" value="7">7</button>
      <button type="button" value="8">8</button>
      <button type="button" value="9">9</button>
      <button type="button" value="10">10</button>
      <button type="button" value="11">11</button>
      <button type="button" value="12">12</button>
      <button type="button" value="13">13</button>
      <button type="button" value="14">14</button>
      <button type="button" value="15">15</button>
      <button type="button" value="16">16</button>
      <button type="button" value="17">17</button>
      <button type="button" value="18">18</button>
    </ul>
    <script>
    const container=document.querySelector('#atlo');const infoGraphContainer=document.querySelector('.info-graph-container');const rectangleContainer=document.querySelector('.rectangle.active');const rectangles=Array.from(document.querySelectorAll('.rectangle li'));const text=Array.from(document.querySelectorAll('.text li'));const paginationButtons=Array.from(document.querySelectorAll('.pagination button'));const titleElement=document.querySelector('.hero h1');const descriptionElement=document.querySelector('.hero p');const backgroundFront=document.querySelector('.background-image');const animationTime=800;let currentPage=1;const data=[{id:1,title:'Well-being and safety of women',description:'OSCE-LED survey on violence against women - major findings',background:'1.png'},{id:2,title:'Participating states',description:'A quantitative survey was conducted among a representative sample of women aged 18 to 74 living in Albania, Bosnia and Hercegovina, Kosovo, Montenegro, North Macedonia, Serbia, Moldova and Ukraine. ',background:'2.png'},{id:3,title:'Methodology ',description:'A total of 15.179 female participated in the survey. Here, each dot represents one of them.',background:'3.png'},{id:4,title:'Violent reality',description:'Seventy per cent of women have experienced some form of sexual harassment since the age of 15. With 31 per cent said to have experienced sexual violence in the past 12 months. ',columns:[{description:`
        <p class="description">since the age of 15</p>
        <p class="percentage" style="color: #7c3593">70%</p>`,percentage:70,color:'#7c3593'},{description:`
        <p class="description">12 months prior the survey</p>
        <p class="percentage" style="color: #b086be">31%</p>`,percentage:31.2,textPercentage:70,textTopPosition:30,color:'#b086be'}]},{id:5,title:'When it\'s known',description:'Almost quarter of the participating women said to have experienced physical or sexual violence by her partner. ',columns:[{description:`
        <p class="description">partner</p>
        <p class="percentage" style="color: #70c6ad">70%</p>`,percentage:23,color:'#70c6ad'}]},{id:6,title:'When it\'s unknown',description:'One in five women have experienced violence by a non-partner perpetrator',columns:[{description:`
        <p class="description">non-partner</p>
        <p class="percentage" style="color: #70c6ad">19%</p>`,percentage:18.8,color:'#70c6ad'}]},{id:7,title:'Marital duty',description:'17% of women agree that it is a wife\'s obligation to have sex with her husband even if she doesn\'t want to',columns:[{description:`
        <p class="percentage" style="color: #70c6ad">17%</p>`,percentage:17,color:'#70c6ad'}]},{id:8,title:'Provocation',description:'One in four agrees that the violence is often provoked by the victim',columns:[{description:`
        <p class="percentage" style="color: #70c6ad">25%</p>`,percentage:25,color:'#70c6ad'}]},{id:9,title:'Private matter',description:'Almost third of the women agrees that domestic violence is a private matter, and should be handled within the family.',columns:[{description:`
        <p class="percentage" style="color: #70c6ad">30%</p>`,percentage:30,color:'#70c6ad'}]},{id:10,title:'Types of violence and abuse - physical',description:'Women who have been subject to physical violence since the age of 15. ',columns:[{description:`
        <p class="percentage" style="color: #00437b">21%</p>`,percentage:21.2,color:'#00437b'}]},{id:11,title:'Types of violence and abuse - sexual',description:'Women who have been subject to sexual violence since the age of 15. ',columns:[{description:`
        <p class="percentage" style="color: #00437b">6%</p>`,percentage:6.3,color:'#00437b'}]},{id:12,title:'Types of violence and abuse - psychological',description:'Women who have been subject to psychological violence since the age of 15. ',columns:[{description:`
        <p class="percentage" style="color: #00437b">47%</p>`,percentage:46.9,color:'#00437b'}]},{id:13,title:'Physical injuries and psychological consequences - physical',description:'59% of the victims have physical injuries from the most serious incident',columns:[{description:`
        <p class="percentage" style="color: #7c3593">59%</p>`,percentage:58.7,color:'#7c3593'}]},{id:14,title:'Physical injuries and psychological consequences - psychological',description:'82% of the victims have psychological consequences from the most serious incident',columns:[{description:`
        <p class="percentage" style="color: #7c3593">82%</p>`,percentage:81.8,color:'#7c3593'}]},{id:15,title:'Lack of information',description:'Almost half of the women don\'t know what to do after they experience violence. ',columns:[{description:`
        <p class="description">well informed</p>
        <p class="percentage">23%</p>`,percentage:98,textAlign:'right',textColor:'white',color:'#fbaf17'},{description:`
        <p class="description">somewhat informed</p>
        <p class="percentage">33%</p>`,percentage:75,textTopPosition:5,textAlign:'right',textColor:'white',color:'#668eb0'},{description:`
        <p class="description">not well informed</p>
        <p class="percentage">42%</p>`,percentage:41.8,textAlign:'right',textColor:'white',color:'#00437b'}]},{id:16,title:'Only one in five',description:'Only one in five women who experienced violence from a non-partner went to the police to help.',columns:[{description:`
        <p class="percentage" style="color: #fbaf17">19%</p>`,percentage:18.8,color:'#fbaf17'}]},{id:17,title:'Even less',description:'If the violence is done by a previous partner, even less seek the help of the police',columns:[{description:`
        <p class="percentage" style="color: #fbaf17">15%</p>`,percentage:15,color:'#fbaf17'}]},{id:18,title:'Almost no one',description:'If the violence happens in current relationship, only about 7 out of 100 women take official steps',columns:[{description:`
        <p class="percentage" style="color: #fbaf17">7%</p>`,percentage:7,color:'#fbaf17'}]}];function paginate(event){const button=event?event.target.closest('button'):undefined;currentPage=button?parseInt(button.value):currentPage+1;const relatedButton=document.querySelector(`[value="${ currentPage }"]`);if(button||relatedButton){const selectedButton=button||relatedButton;paginationButtons.forEach(el=>el.classList.remove('active'));selectedButton.classList.add('active')}const selected=data.find(row=>row.id===currentPage);if(selected){backgroundFront.style.opacity=0;titleElement.innerHTML=selected.title;descriptionElement.innerHTML=selected.description;rectangles.forEach(rectangle=>rectangle.style.width=0);text.forEach(t=>{t.removeAttribute('style');t.style.opacity=0});if(currentPage>3){renderViz(selected)}else{renderPage(selected)}}}function renderPage(selected){setTimeout(function(){backgroundFront.style.opacity=1;backgroundFront.src=`images/${selected.background }`},animationTime)}function renderViz(selected){setTimeout(function(){selected.columns.forEach((column,index)=>{rectangles[index].style.background=column.color;rectangles[index].style.width=`${column.percentage }%`;text[index].innerHTML=column.description;text[index].style.opacity=1;text[index].style.left=`${column.textPercentage||column.percentage }%`;if(column.textTopPosition){text[index].style.top=`${column.textTopPosition }%`}if(column.textAlign){text[index].style.textAlign=column.textAlign}if(column.textColor){text[index].style.color=column.textColor;text[index].style.background=column.color}if(selected.id===15){if(container.offsetWidth<480){const next=selected.columns[index+1];console.log({current:column.percentage});console.log({next:next?next.percentage:undefined});text[index].style.height='70px';text[index].style.width=`${next?column.percentage-next.percentage:column.percentage }%`;text[index].style.left=`${next?next.percentage:0}%`}else{text[index].style.left=`calc(${column.percentage-1}% - ${text[index].offsetWidth+10}px)`}}if(container.offsetWidth<576&&selected.id===4){if(column.textTopPosition){text[index].style.top=`${column.textTopPosition+15}%`}}})},animationTime)}function init(){const width=container.offsetWidth;const baseWidth=1000;const baseHeight=560;const baseRatio=(baseHeight/baseWidth);infoGraphContainer.style.height=`${width*baseRatio }px`;if(width<600){container.classList.add('mobile')}else if(width<1000){container.classList.add('tablet')}}init();paginationButtons.forEach(button=>button.addEventListener('click',paginate));infoGraphContainer.addEventListener('click',paginate);
        </script>
  </div>
  <!-- <script src="script.js"></script> -->
</body>
</html>